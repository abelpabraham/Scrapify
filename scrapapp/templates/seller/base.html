{% load static %}
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Seller Dashboard — Scrapify</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="{% static 'assets/css/main.css' %}" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
  <!-- single Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>

  {% block css %}{% endblock %}
  <style>
  .material-toast {
  font-family: 'Roboto', sans-serif;
  font-weight: 500;
  font-size: 14px;
  color: #fff;
  padding: 12px 20px;
  border-radius: 12px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2), 0 2px 4px rgba(0,0,0,0.1);
  backdrop-filter: blur(8px); /* subtle glossy effect */
  border: 1px solid rgba(255,255,255,0.2); /* highlights for reflection */
  text-shadow: 0 1px 1px rgba(0,0,0,0.2);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

/* Hover effect for extra “pop” */
.material-toast:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 14px rgba(0,0,0,0.3), 0 3px 6px rgba(0,0,0,0.15);
}

/* Notification colors */
.material-toast.success { background: linear-gradient(145deg, #66bb6a, #43a047); }
.material-toast.error { background: linear-gradient(145deg, #ef5350, #e53935); }
.material-toast.warning { background: linear-gradient(145deg, #ffa726, #fb8c00); }
.material-toast.info { background: linear-gradient(145deg, #42a5f5, #1e88e5); }

    .error-msg { color: red; font-size: 14px; }
</style>

</head>
<body>
  {% comment %} <nav class="navbar topbar-card shadow-sm px-4 py-3 my-3 mx-auto">
  <div class="container-fluid d-flex align-items-center justify-content-between">
    <!-- Brand Badge -->
    <a class="brand-badge me-3" href="{% url 'seller_dashboard' %}">
      <img src="{% static 'assets/img/logo.svg' %}" alt="Logo" style="height:32px;width:32px;border-radius:8px;">
    </a>
    <span class="fw-bold" style="font-size:19px;">Scrapify Seller</span>
    <div class="d-flex align-items-center gap-2 ms-auto">
      <span class="avatar rounded-circle bg-light text-dark d-flex justify-content-center align-items-center"
            style="width:36px;height:36px;font-weight:600;">
        {{ user.name|first|default:"U" }}
      </span>
      <span class="fw-semibold text-muted-small d-none d-md-inline">{{ user.name }}</span>
      <a href="{% url 'profile' %}" class="btn btn-outline-muted btn-sm ms-2">Profile</a>
      <a href="{% url 'logout' %}" class="btn btn-cta btn-sm ms-1">Logout</a>
    </div>
  </div>
</nav> {% endcomment %}

  <div class="container-fluid app-shell">
    <div class="row g-4">
      <div class="col-lg-3">
        <div class="sidebar">
          <div class="d-flex align-items-center mb-3">
            <div class="avatar rounded-circle me-2" style="width:48px;height:48px;background:linear-gradient(135deg,#E7F7EE,#9FD8FF)"></div>
            <div>
              <div class="fw-bold">{{ user.name }}</div>
              <div class="small text-muted">{{user.role}}</div>
            </div>
          </div>
          <nav class="nav flex-column">
            <a class="nav-link" href="{% url 'seller_dashboard' %}">Home</a>
            <a class="nav-link" href="{% url 'create_pickup_request' %}">Schedule Pickup</a>
            <a class="nav-link" href="{% url 'my_pickup_requests' %}">Request History</a>
            <a class="nav-link" href="{% url 'seller_profile' %}">Profile</a>
            <a class="nav-link" href="{% url 'logout' %}">Logout</a>
          </nav>
        </div>
      </div>
      {% block content %}

      {% endblock %}
    </div>
  </div>
{% block modals %}{% endblock %}

  <!-- scripts: one Bootstrap, one Leaflet, main.js, Toastify, then child scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <!-- single Leaflet JS (keep only this) -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="{% static 'assets/js/main.js' %}"></script>
  <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
  <script>
  {% if messages %}
    {% for message in messages %}
      Toastify({
        text: "{{ message|escapejs }}",
        duration: 4000,
        gravity: "top",
        position: "right",
        close: true,
        stopOnFocus: true,
        className: "material-toast {{ message.tags }}"
      }).showToast();
    {% endfor %}
  {% endif %}
</script>

  {% block scripts %}{% endblock %}
</body>
</html>