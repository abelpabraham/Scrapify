{% extends "dealer/base.html" %}
{% block content %}
<div class="container mt-4">
    <h2>Verify Pickup Request</h2>
    <p><strong>Seller:</strong> {{ pickup_request.seller.name }} | <strong>Address:</strong> {{ pickup_request.address }}</p>

    <form method="post">
        {% csrf_token %}
        {{ pickup_form.non_field_errors }}
{% for field in pickup_form %}
    {{ field.errors }}
{% endfor %}

{{ formset.non_form_errors }}
{% for form in formset %}
    {{ form.errors }}
{% endfor %}

        <div class="card p-3 mb-3">
            <h5>Dealer Verification</h5>
            {{ pickup_form.as_p }}
        </div>

        <div class="card p-3 mb-3">
            <h5>Actual Scrap Items</h5>
            {{ formset.management_form }}
            {% for form in formset %}
            {{ form.id }}
                <div class="row mb-2">
                    <div class="col-md-6">
                        {{ form.category }}
                    </div>
                    <div class="col-md-4">
                        {{ form.actual_weight }}
                    </div>
                </div>
            {% endfor %}
        </div>

        <button type="submit" class="btn btn-success">Finalize Pickup</button>
    </form>
</div>
{% endblock %}
